{% extends 'base.html' %}
{% load static %}

{% block title %}Tutoriales - Sistema de Gesti칩n de Fichas{% endblock %}

{% block extra_css %}
    <style>
        /* Estilos personalizados para la p치gina de tutoriales */
        .bg-purple {
            background-color: #6f42c1 !important;
        }

        .text-purple {
            color: #6f42c1 !important;
        }

        .btn-outline-purple {
            color: #6f42c1;
            border-color: #6f42c1;
        }

        .btn-outline-purple:hover {
            background-color: #6f42c1;
            color: white;
        }

        .bg-teal {
            background-color: #20c997 !important;
        }

        .text-teal {
            color: #20c997 !important;
        }

        .btn-outline-teal {
            color: #20c997;
            border-color: #20c997;
        }

        .btn-outline-teal:hover {
            background-color: #20c997;
            color: white;
        }

        .bg-coral {
            background-color: #FF7F50 !important;
        }

        .text-coral {
            color: #FF7F50 !important;
        }

        .btn-outline-coral {
            color: #FF7F50;
            border-color: #FF7F50;
        }

        .btn-outline-coral:hover {
            background-color: #FF7F50;
            color: white;
        }

        .card {
            transition: all 0.3s ease;
            border: 1px solid #dee2e6;
        }

        .list-group-item {
            border: none;
            padding: 0.5rem 0;
        }

        .ratio-16x9 {
            border-radius: 8px;
            overflow: hidden;
        }

        .card-header h5 {
            font-size: 1.1rem;
        }

        .badge {
            font-size: 0.75rem;
        }

        /* Animaci칩n para los iconos */
        .fa-3x {
            transition: transform 0.3s ease;
        }

        .card:hover .fa-3x {
            transform: scale(1.1);
        }

        /* Para Bootstrap 4 embed-responsive */
        .embed-responsive {
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        /* Efecto hover mejorado */
        .card:hover {
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
            transform: translateY(-5px);
        }

        /* Estilo para el popup de advertencia */
        .warning-badge {
            position: fixed;
            top: 80px;
            right: 20px;
            z-index: 9999;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(255, 193, 7, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(255, 193, 7, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(255, 193, 7, 0);
            }
        }

        /* Estilo para los botones de tutorial */
        .tutorial-btn {
            transition: all 0.3s ease;
        }

        .tutorial-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        /* Estilo para el modal personalizado */
        .custom-modal-header {
            background-color: #ffc107;
            color: #856404;
            border-bottom: 1px solid #ffeaa7;
        }

        .custom-modal-body {
            padding: 1.5rem;
        }

        .custom-modal-footer {
            border-top: 1px solid #dee2e6;
            padding: 1rem;
        }

        /* Badge de advertencia en los videos */
        .video-warning-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 100;
            font-size: 0.7rem;
            padding: 3px 8px;
        }
    </style>
{% endblock %}

{% block content %}
    <!-- Badge de advertencia flotante -->
    <div class="warning-badge">
        <span class="badge badge-warning p-2">
            <i class="fas fa-wifi me-1"></i> Videos requieren WiFi
        </span>
    </div>

    <div class="container-fluid">
        <!-- Encabezado de la p치gina -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card shadow-sm">
                    <div class="card-body text-center">
                        <h1 class="card-title mb-3">游꿉 Centro de Tutoriales</h1>
                        <p class="lead mb-0">
                            Aprende a utilizar todas las funcionalidades del Sistema de Gesti칩n de Fichas M칠dicas
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Secci칩n de Video Tutoriales -->
        <div class="row mb-5">
            <div class="col-12">
                <div class="card shadow-sm mb-4">
                    <div class="card-header bg-primary text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-video me-2"></i>Video Tutoriales
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-warning alert-dismissible fade show mb-4" role="alert">
                            <h5 class="alert-heading">
                                <i class="fas fa-exclamation-triangle me-2"></i>Importante: Requisitos para ver videos
                            </h5>
                            <p class="mb-1">
                                <strong>Los videos tutoriales solo son accesibles mediante conexi칩n WiFi.</strong>
                            </p>
                            <p class="mb-0">
                                <small>
                                    <i class="fas fa-info-circle me-1"></i>
                                    La red MINSAL bloquea el acceso a YouTube por restricciones de seguridad.
                                    Para visualizar los tutoriales, por favor con칠ctate a una red WiFi personal o m칩vil.
                                </small>
                            </p>
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>

                        <p class="text-muted mb-4">
                            Aprende paso a paso con nuestros tutoriales en video
                        </p>

                        <div class="row">
                            <!-- Tutorial 1: Pacientes y Fichas -->
                            <div class="col-md-6 mb-4">
                                <div class="card h-100 border-primary">
                                    <div class="card-header bg-primary text-white">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-user-injured me-2"></i>Pacientes y Fichas
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">Tutorial Pacientes y Fichas</h5>

                                        <!-- Contenedor del video -->
                                        <div class="embed-responsive embed-responsive-16by9 position-relative">
                                            <span class="badge badge-warning video-warning-badge">
                                                <i class="fas fa-wifi"></i> WiFi
                                            </span>
                                            <iframe
                                                    class="embed-responsive-item"
                                                    src="https://www.youtube.com/embed/gcS5wekOUnw"
                                                    title="Tutorial Pacientes y Fichas"
                                                    frameborder="0"
                                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                                    allowfullscreen>
                                            </iframe>
                                        </div>

                                        <p class="card-text mt-3">
                                            En este video aprender치s a gestionar pacientes y fichas m칠dicas en el
                                            sistema.
                                            Desde la creaci칩n de nuevos registros hasta la administraci칩n completa de la
                                            informaci칩n cl칤nica.
                                        </p>

                                        <h6 class="card-subtitle mb-2 text-muted">En este tutorial aprender치s:</h6>
                                        <ul class="list-group list-group-flush">
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Crear nuevos pacientes en el sistema
                                            </li>
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Generar fichas m칠dicas
                                            </li>
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Asociar fichas a pacientes existentes
                                            </li>
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Buscar y editar informaci칩n de pacientes
                                            </li>
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Manejar el historial de fichas
                                            </li>
                                        </ul>

                                        <div class="mt-3">
                                            <span class="badge bg-info me-2">Nivel: B치sico</span>
                                            <span class="badge bg-warning">Tiempo: 8-10 min</span>
                                            <span class="badge bg-danger">
                                                <i class="fas fa-wifi me-1"></i> Requiere WiFi
                                            </span>
                                        </div>
                                    </div>
                                    <div class="card-footer">
                                        <button class="btn btn-primary w-100 mark-complete tutorial-btn">
                                            <i class="fas fa-check-circle me-2"></i>Marcar como Completado
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Tutorial 2: Movimientos de Fichas -->
                            <div class="col-md-6 mb-4">
                                <div class="card h-100 border-success">
                                    <div class="card-header bg-success text-white">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-exchange-alt me-2"></i>Movimientos de Fichas
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">Tutorial Movimientos entre Servicios</h5>

                                        <!-- Placeholder para futuro video -->
                                        <div class="embed-responsive embed-responsive-16by9 bg-dark d-flex align-items-center justify-content-center position-relative">
                                            <span class="badge badge-warning video-warning-badge">
                                                <i class="fas fa-wifi"></i> WiFi
                                            </span>
                                            <div class="text-center text-white">
                                                <i class="fas fa-video fa-3x mb-3"></i>
                                                <p>Tutorial en producci칩n</p>
                                                <small class="text-light">Disponible pr칩ximamente</small>
                                            </div>
                                        </div>

                                        <p class="card-text mt-3">
                                            Aprende a mover fichas entre diferentes servicios cl칤nicos y a gestionar
                                            los traspasos de pacientes dentro del sistema.
                                        </p>

                                        <h6 class="card-subtitle mb-2 text-muted">En este tutorial aprender치s:</h6>
                                        <ul class="list-group list-group-flush">
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Enviar fichas entre servicios cl칤nicos
                                            </li>
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Recibir fichas en servicios destino
                                            </li>
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Traspasar fichas a otros profesionales
                                            </li>
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Seguir el rastro de movimientos
                                            </li>
                                            <li class="list-group-item">
                                                <i class="fas fa-check-circle text-success me-2"></i>
                                                Generar reportes de movimientos
                                            </li>
                                        </ul>

                                        <div class="mt-3">
                                            <span class="badge bg-info me-2">Nivel: Intermedio</span>
                                            <span class="badge bg-warning">Tiempo: 10-12 min</span>
                                            <span class="badge bg-secondary">Pr칩ximamente</span>
                                        </div>
                                    </div>
                                    <div class="card-footer">
                                        <button class="btn btn-outline-success w-100 tutorial-btn" disabled>
                                            <i class="fas fa-clock me-2"></i>Disponible Pr칩ximamente
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Secci칩n de Tutoriales con Im치genes (CRUD Normales) -->
        <div class="row">
            <div class="col-12">
                <div class="card shadow-sm">
                    <div class="card-header bg-secondary text-white">
                        <h3 class="card-title mb-0">
                            <i class="fas fa-images me-2"></i>Tutoriales con Im치genes
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info mb-4">
                            <h6 class="alert-heading">
                                <i class="fas fa-info-circle me-2"></i>Tutoriales disponibles en cualquier red
                            </h6>
                            <p class="mb-0">
                                Los tutoriales en formato PDF y con im치genes est치n disponibles para descarga
                                tanto en red MINSAL como en conexi칩n WiFi.
                            </p>
                        </div>

                        <p class="text-muted mb-4">
                            Gu칤as paso a paso con capturas de pantalla para operaciones CRUD
                        </p>

                        <div class="row">
                            <!-- Comunas -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-map-marker-alt me-2 text-primary"></i>Comunas
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <div class="bg-light p-4 rounded">
                                                <i class="fas fa-city fa-3x text-primary mb-3"></i>
                                                <p class="mb-0">Gesti칩n de Comunas</p>
                                            </div>
                                        </div>
                                        <p class="card-text">
                                            Aprende a administrar el cat치logo de comunas del sistema.
                                        </p>
                                        <ul class="list-unstyled">
                                            <li class="mb-1">
                                                <i class="fas fa-plus-circle text-success me-2"></i>
                                                Crear nuevas comunas
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-edit text-warning me-2"></i>
                                                Editar informaci칩n existente
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-list text-info me-2"></i>
                                                Listar y filtrar comunas
                                            </li>
                                            <li>
                                                <i class="fas fa-trash text-danger me-2"></i>
                                                Eliminar registros (con validaciones)
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-footer">
                                        <a href="{% static 'pdfs/Servicios-Clinicos.pdf' %}" download
                                           class="btn btn-outline-primary btn-sm w-100">
                                            <i class="fas fa-download me-1"></i> Descargar PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <!-- Establecimientos -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-hospital me-2 text-success"></i>Establecimientos
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <div class="bg-light p-4 rounded">
                                                <i class="fas fa-hospital-alt fa-3x text-success mb-3"></i>
                                                <p class="mb-0">Gesti칩n de Establecimientos</p>
                                            </div>
                                        </div>
                                        <p class="card-text">
                                            Administra los establecimientos de salud en el sistema.
                                        </p>
                                        <ul class="list-unstyled">
                                            <li class="mb-1">
                                                <i class="fas fa-plus-circle text-success me-2"></i>
                                                Agregar nuevos establecimientos
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-edit text-warning me-2"></i>
                                                Modificar datos de establecimientos
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-map-marked-alt text-info me-2"></i>
                                                Asignar ubicaci칩n geogr치fica
                                            </li>
                                            <li>
                                                <i class="fas fa-cogs text-secondary me-2"></i>
                                                Configurar par치metros del establecimiento
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-footer">
                                        <a href="#" class="btn btn-outline-success btn-sm w-100 tutorial-btn">
                                            <i class="fas fa-download me-1"></i> Descargar PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <!-- Servicios Cl칤nicos -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-stethoscope me-2 text-info"></i>Servicios Cl칤nicos
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <div class="bg-light p-4 rounded">
                                                <i class="fas fa-clinic-medical fa-3x text-info mb-3"></i>
                                                <p class="mb-0">Gesti칩n de Servicios Cl칤nicos</p>
                                            </div>
                                        </div>
                                        <p class="card-text">
                                            Gestiona los diferentes servicios cl칤nicos disponibles.
                                        </p>
                                        <ul class="list-unstyled">
                                            <li class="mb-1">
                                                <i class="fas fa-plus-circle text-success me-2"></i>
                                                Crear nuevos servicios cl칤nicos
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-edit text-warning me-2"></i>
                                                Actualizar informaci칩n de servicios
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-users text-info me-2"></i>
                                                Asignar profesionales a servicios
                                            </li>
                                            <li>
                                                <i class="fas fa-exchange-alt text-primary me-2"></i>
                                                Configurar flujos entre servicios
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-footer">
                                        <a href="#" class="btn btn-outline-info btn-sm w-100 tutorial-btn">
                                            <i class="fas fa-download me-1"></i> Descargar PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <!-- Profesiones -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-user-md me-2 text-warning"></i>Profesiones
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <div class="bg-light p-4 rounded">
                                                <i class="fas fa-user-graduate fa-3x text-warning mb-3"></i>
                                                <p class="mb-0">Gesti칩n de Profesiones</p>
                                            </div>
                                        </div>
                                        <p class="card-text">
                                            Administra el cat치logo de profesiones m칠dicas.
                                        </p>
                                        <ul class="list-unstyled">
                                            <li class="mb-1">
                                                <i class="fas fa-plus-circle text-success me-2"></i>
                                                Agregar nuevas profesiones
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-edit text-warning me-2"></i>
                                                Modificar profesiones existentes
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-certificate text-info me-2"></i>
                                                Especificar requisitos y especialidades
                                            </li>
                                            <li>
                                                <i class="fas fa-sitemap text-secondary me-2"></i>
                                                Establecer jerarqu칤as profesionales
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-footer">
                                        <a href="#" class="btn btn-outline-warning btn-sm w-100 tutorial-btn">
                                            <i class="fas fa-download me-1"></i> Descargar PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <!-- Profesionales -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-user-nurse me-2 text-danger"></i>Profesionales
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <div class="bg-light p-4 rounded">
                                                <i class="fas fa-user-md fa-3x text-danger mb-3"></i>
                                                <p class="mb-0">Gesti칩n de Profesionales</p>
                                            </div>
                                        </div>
                                        <p class="card-text">
                                            Administra el personal m칠dico del sistema.
                                        </p>
                                        <ul class="list-unstyled">
                                            <li class="mb-1">
                                                <i class="fas fa-plus-circle text-success me-2"></i>
                                                Registrar nuevos profesionales
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-edit text-warning me-2"></i>
                                                Actualizar datos profesionales
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-id-card text-info me-2"></i>
                                                Gestionar credenciales y permisos
                                            </li>
                                            <li>
                                                <i class="fas fa-calendar-alt text-primary me-2"></i>
                                                Administrar disponibilidad y horarios
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-footer">
                                        <a href="#" class="btn btn-outline-danger btn-sm w-100 tutorial-btn">
                                            <i class="fas fa-download me-1"></i> Descargar PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <!-- Previsi칩n -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-shield-alt me-2 text-purple"></i>Previsi칩n
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <div class="bg-light p-4 rounded">
                                                <i class="fas fa-hand-holding-usd fa-3x text-purple mb-3"></i>
                                                <p class="mb-0">Gesti칩n de Previsi칩n</p>
                                            </div>
                                        </div>
                                        <p class="card-text">
                                            Administra las entidades previsionales del sistema.
                                        </p>
                                        <ul class="list-unstyled">
                                            <li class="mb-1">
                                                <i class="fas fa-plus-circle text-success me-2"></i>
                                                Agregar nuevas entidades previsionales
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-edit text-warning me-2"></i>
                                                Modificar datos de previsi칩n
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-percentage text-info me-2"></i>
                                                Configurar coberturas y porcentajes
                                            </li>
                                            <li>
                                                <i class="fas fa-file-contract text-secondary me-2"></i>
                                                Administrar convenios y acuerdos
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-footer">
                                        <a href="#" class="btn btn-outline-purple btn-sm w-100 tutorial-btn">
                                            <i class="fas fa-download me-1"></i> Descargar PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <!-- Sectores -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-th-large me-2 text-teal"></i>Sectores
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <div class="bg-light p-4 rounded">
                                                <i class="fas fa-sitemap fa-3x text-teal mb-3"></i>
                                                <p class="mb-0">Gesti칩n de Sectores</p>
                                            </div>
                                        </div>
                                        <p class="card-text">
                                            Organiza la estructura sectorial del sistema.
                                        </p>
                                        <ul class="list-unstyled">
                                            <li class="mb-1">
                                                <i class="fas fa-plus-circle text-success me-2"></i>
                                                Crear nuevos sectores
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-edit text-warning me-2"></i>
                                                Modificar estructura sectorial
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-project-diagram text-info me-2"></i>
                                                Establecer jerarqu칤as y dependencias
                                            </li>
                                            <li>
                                                <i class="fas fa-users-cog text-secondary me-2"></i>
                                                Asignar responsables por sector
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-footer">
                                        <a href="#" class="btn btn-outline-teal btn-sm w-100 tutorial-btn">
                                            <i class="fas fa-download me-1"></i> Descargar PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                            <!-- Reporte -->
                            <div class="col-md-4 mb-4">
                                <div class="card h-100">
                                    <div class="card-header">
                                        <h5 class="card-title mb-0">
                                            <i class="fas fa-headset me-2 text-coral"></i>Reporte
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="text-center mb-3">
                                            <div class="bg-light p-4 rounded">
                                                <i class="fas fa-life-ring fa-3x text-coral mb-3"></i>
                                                <p class="mb-0">Gesti칩n de Reporte</p>
                                            </div>
                                        </div>
                                        <p class="card-text">
                                            Aprende a utilizar el sistema de reporte y asistencia t칠cnica.
                                        </p>
                                        <ul class="list-unstyled">
                                            <li class="mb-1">
                                                <i class="fas fa-file-alt text-secondary me-2"></i>
                                                Generar reportes autom치ticos
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-chart-bar text-info me-2"></i>
                                                Visualizar estad칤sticas y m칠tricas
                                            </li>
                                            <li class="mb-1">
                                                <i class="fas fa-download text-primary me-2"></i>
                                                Exportar reportes en diferentes formatos
                                            </li>
                                            <li>
                                                <i class="fas fa-question-circle text-warning me-2"></i>
                                                Utilizar la asistencia t칠cnica
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-footer">
                                        <a href="#" class="btn btn-outline-coral btn-sm w-100 tutorial-btn">
                                            <i class="fas fa-download me-1"></i> Descargar PDF
                                        </a>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de advertencia de WiFi -->
    <div class="modal fade" id="wifiWarningModal" tabindex="-1" role="dialog" aria-labelledby="wifiWarningModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header custom-modal-header">
                    <h5 class="modal-title" id="wifiWarningModalLabel">
                        <i class="fas fa-exclamation-triangle me-2"></i>Importante: Acceso a Videos Tutoriales
                    </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body custom-modal-body">
                    <div class="text-center mb-3">
                        <i class="fas fa-wifi fa-4x text-warning mb-3"></i>
                        <h4 class="text-warning">Acceso Restringido a Videos</h4>
                    </div>

                    <div class="alert alert-warning">
                        <h6 class="alert-heading">
                            <i class="fas fa-ban me-2"></i>Restricci칩n en Red MINSAL
                        </h6>
                        <p class="mb-2">
                            La red institucional MINSAL tiene bloqueado el acceso a YouTube por pol칤ticas de seguridad.
                        </p>
                    </div>

                    <div class="alert alert-success">
                        <h6 class="alert-heading">
                            <i class="fas fa-check-circle me-2"></i>Soluci칩n Disponible
                        </h6>
                        <p class="mb-2">
                            Para visualizar los videos tutoriales, debes conectarte a:
                        </p>
                        <ul class="mb-0">
                            <li><strong>Red WiFi personal</strong></li>
                            <li><strong>Datos m칩viles</strong> (3G/4G/5G)</li>
                            <li><strong>Otra red WiFi externa</strong></li>
                        </ul>
                    </div>

                    <div class="mt-4">
                        <h6><i class="fas fa-lightbulb me-2"></i>Alternativas disponibles en red MINSAL:</h6>
                        <ul>
                            <li>Tutoriales en PDF para descargar</li>
                            <li>Gu칤as con im치genes paso a paso</li>
                            <li>Instrucciones detalladas en texto</li>
                        </ul>
                    </div>
                </div>
                <div class="modal-footer custom-modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">
                        <i class="fas fa-times me-2"></i>Entendido
                    </button>
                    <button type="button" class="btn btn-warning" id="dontShowAgainBtn">
                        <i class="fas fa-eye-slash me-2"></i>No mostrar nuevamente
                    </button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascript %}
    <!-- SweetAlert2 para mensajes -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        // Script para mejorar la interacci칩n con los tutoriales
        $(document).ready(function () {
            // Mostrar modal de advertencia al cargar la p치gina
            function showWiFiWarning() {
                // Verificar si el usuario ya eligi칩 no mostrar el mensaje
                var dontShowAgain = localStorage.getItem('dontShowWiFiWarning');

                if (!dontShowAgain) {
                    // Esperar un momento para que la p치gina cargue completamente
                    setTimeout(function () {
                        $('#wifiWarningModal').modal('show');
                    }, 500);
                }
            }

            // Mostrar el modal
            showWiFiWarning();

            // Bot칩n "No mostrar nuevamente"
            $('#dontShowAgainBtn').click(function () {
                localStorage.setItem('dontShowWiFiWarning', 'true');
                $('#wifiWarningModal').modal('hide');

                Swal.fire({
                    title: 'Preferencia guardada',
                    text: 'No se mostrar치 esta advertencia en futuras visitas.',
                    icon: 'info',
                    confirmButtonText: 'Entendido'
                });
            });

            // Mostrar alerta al intentar ver video sin WiFi
            $('.embed-responsive iframe').on('click', function () {
                // Esta es una simulaci칩n - en un caso real podr칤as detectar la red
                Swal.fire({
                    title: 'Verificando conexi칩n...',
                    text: 'Los videos requieren conexi칩n WiFi para reproducirse',
                    icon: 'info',
                    showConfirmButton: false,
                    timer: 2000
                });
            });

            // Efecto hover en las tarjetas de tutoriales
            $('.card').hover(
                function () {
                    $(this).addClass('shadow-lg');
                    $(this).css('transition', 'all 0.3s ease');
                },
                function () {
                    $(this).removeClass('shadow-lg');
                }
            );

            // Contador de visitas a tutoriales (ejemplo)
            $('.tutorial-btn').click(function (e) {
                e.preventDefault();
                var card = $(this).closest('.card');
                var tutorialTitle = card.find('.card-title').text().trim();

                // Mostrar mensaje de carga
                Swal.fire({
                    title: 'Cargando tutorial...',
                    text: 'Preparando: ' + tutorialTitle,
                    icon: 'info',
                    showConfirmButton: false,
                    timer: 1500
                });

                // En un caso real, aqu칤 se cargar칤a el tutorial
                setTimeout(function () {
                    Swal.fire({
                        title: 'Tutorial listo',
                        text: 'El tutorial se descargar치 en unos momentos',
                        icon: 'success',
                        confirmButtonText: 'Entendido'
                    });
                }, 1600);
            });

            // Bot칩n para marcar tutorial como completado
            $('.mark-complete').click(function () {
                var tutorial = $(this).closest('.card').find('.card-title').text();
                var button = $(this);

                Swal.fire({
                    title: '쯄arcar como completado?',
                    text: '쮿as completado el tutorial: ' + tutorial + '?',
                    icon: 'question',
                    showCancelButton: true,
                    confirmButtonText: 'S칤, completado',
                    cancelButtonText: 'No, a칰n no',
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33'
                }).then((result) => {
                    if (result.isConfirmed) {
                        button.html('<i class="fas fa-check me-1"></i> Completado');
                        button.removeClass('btn-primary').addClass('btn-success');
                        button.prop('disabled', true);

                        // A침adir badge de completado
                        button.closest('.card').find('.badge.bg-success').remove();
                        button.closest('.card').find('.mt-3').append(
                            '<span class="badge bg-success ms-2">Completado</span>'
                        );

                        Swal.fire(
                            '춰Excelente!',
                            'Has completado este tutorial',
                            'success'
                        );
                    }
                });
            });

            // Control de reproducci칩n de video
            $('iframe').on('load', function () {
                console.log('Video de YouTube cargado correctamente');
            }).on('error', function () {
                console.error('Error al cargar el video de YouTube');

                // Mostrar advertencia espec칤fica de WiFi
                Swal.fire({
                    title: 'Error de conexi칩n',
                    html: `
                    <div class="text-center">
                        <i class="fas fa-wifi-slash fa-3x text-danger mb-3"></i>
                        <p>No se pudo cargar el video de YouTube.</p>
                        <div class="alert alert-warning text-left mt-3">
                            <h6><i class="fas fa-exclamation-triangle"></i> Posibles causas:</h6>
                            <ul class="mb-0">
                                <li>Est치s conectado a la red MINSAL (bloquea YouTube)</li>
                                <li>No tienes conexi칩n a internet</li>
                                <li>El firewall bloquea el acceso</li>
                            </ul>
                        </div>
                        <p class="mt-3">
                            <strong>Soluci칩n:</strong> Con칠ctate a una red WiFi personal o usa datos m칩viles.
                        </p>
                    </div>
                `,
                    icon: 'error',
                    confirmButtonText: 'Entendido',
                    width: 600
                });
            });

            // Bot칩n para resetear preferencias (para testing)
            $('#resetPreferences').click(function () {
                localStorage.removeItem('dontShowWiFiWarning');
                Swal.fire({
                    title: 'Preferencias reseteadas',
                    text: 'La advertencia de WiFi se mostrar치 nuevamente.',
                    icon: 'success'
                }).then(() => {
                    location.reload();
                });
            });
        });

        // Funci칩n para verificar si es posible conexi칩n a YouTube (simulaci칩n)
        function checkYouTubeAccess() {
            return new Promise((resolve) => {
                // Esta es una simulaci칩n simple
                // En un caso real, podr칤as hacer un ping a YouTube o verificar la red
                setTimeout(() => {
                    // Simulamos que no hay acceso desde MINSAL
                    resolve(false);
                }, 100);
            });
        }
    </script>

    <!-- Bot칩n flotante para resetear preferencias (solo para desarrollo) -->
    {% if debug %}
        <button id="resetPreferences" class="btn btn-sm btn-secondary"
                style="position: fixed; bottom: 10px; left: 10px; z-index: 9999;">
            <i class="fas fa-redo"></i> Reset WiFi Warning
        </button>
    {% endif %}
{% endblock %}